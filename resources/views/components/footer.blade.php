 <!-- FOOTER -->

 <div class="bg-gray-900">
     <footer class="mx-auto max-w-screen-2xl px-4 md:px-8">
         <div class="mb-16 grid grid-cols-2 gap-12 pt-10 md:grid-cols-4 lg:grid-cols-6 lg:gap-8 lg:pt-12">
             <div class="col-span-full lg:col-span-2">
                 <!-- logo - start -->
                 <div class="mb-4 lg:-mt-2">
                     <a href="/" class="inline-flex items-center gap-2 text-xl font-bold text-gray-100 md:text-2xl"
                         aria-label="logo">
                         <svg width="95" height="94" viewBox="0 0 95 94" class="h-auto w-5 text-green-500"
                             fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                             <path d="M96 0V47L48 94H0V47L48 0H96Z" />
                         </svg>

                         Aios Real Estate
                     </a>
                 </div>
                 <!-- logo - end -->

                 <p class="mb-6 text-gray-400 sm:pr-8">Aios Real Estate ofrece alquileres y ventas de propiedades de
                     alto
                     nivel. Nuestra experiencia en el sector inmobiliario garantiza que todos nuestros clientes
                     obtendrán la mejor calidad en la búsqueda de la propiedad perfecta para satisfacer sus
                     necesidades.</p>

                 <!-- social - start -->
                 <div class="flex gap-4">
                     <a href="#" target="_blank"
                         class="text-gray-400 transition duration-100 hover:text-gray-500 active:text-gray-600">
                         <svg class="h-5 w-5" width="24" height="24" xmlns="http://www.w3.org/2000/svg"
                             fill="currentColor" viewBox="0 0 512 512">
                             <!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                             <path
                                 d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z" />
                         </svg>
                     </a>
                     <a href="#" target="_blank"
                         class="text-gray-400 transition duration-100 hover:text-gray-500 active:text-gray-600">
                         <svg class="h-5 w-5" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                             <path
                                 d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" />
                         </svg>
                     </a>

                     <a href="#" target="_blank"
                         class="text-gray-400 transition duration-100 hover:text-gray-500 active:text-gray-600">
                         <svg class="h-5 w-5" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                             <path
                                 d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z" />
                         </svg>
                     </a>

                     <a href="#" target="_blank"
                         class="text-gray-400 transition duration-100 hover:text-gray-500 active:text-gray-600">
                         <svg class="h-5 w-5" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"
                             xmlns="http://www.w3.org/2000/svg">
                             <path
                                 d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" />
                         </svg>
                     </a>


                 </div>
                 <!-- social - end -->
             </div>

             <!-- nav - start -->
             <div>
                 <div class="mb-4 font-bold uppercase tracking-widest text-gray-100">Productos</div>

                 <nav class="flex flex-col gap-4">
                     <div>
                         <a href="{{ route('login') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Publicar</a>
                     </div>

                     <div>
                         <a href="{{ route('solutions') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Soluciones</a>
                     </div>

                     <div>
                         <a href="{{ route('prices') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Planes</a>
                     </div>


                 </nav>
             </div>
             <!-- nav - end -->

             <!-- nav - start -->
             <div>
                 <div class="mb-4 font-bold uppercase tracking-widest text-gray-100">Compañía</div>

                 <nav class="flex flex-col gap-4">
                     <div>
                         <a href="{{ route('about') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Acerca
                             de</a>
                     </div>



                     <div>
                         <a href="{{ route('exposition') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Categorias</a>
                     </div>



                     <div>
                         <a href="{{ route('blog') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Blog</a>
                     </div>
                 </nav>
             </div>
             <!-- nav - end -->

             <!-- nav - start -->
             <div>
                 <div class="mb-4 font-bold uppercase tracking-widest text-gray-100">Soporte</div>

                 <nav class="flex flex-col gap-4">
                     <div>
                         <a href="{{ route('contact') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Contacto</a>
                     </div>


                     <div>
                         <a href="{{ route('faq') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">FAQ</a>
                     </div>
                 </nav>
             </div>
             <!-- nav - end -->

             <!-- nav - start -->
             <div>
                 <div class="mb-4 font-bold uppercase tracking-widest text-gray-100">Legal</div>

                 <nav class="flex flex-col gap-4">
                     <div>
                         <a href="{{ route('terms') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Términos
                             de Servicios</a>
                     </div>

                     <div>
                         <a href="{{ route('privacy') }}"
                             class="text-gray-400 duration-500 ease-in-out hover:text-white active:text-white">Política
                             de Privacidad</a>
                     </div>

                     <div>
                         <a href="{{ route('cookie') }}"
                             class="text-gray-400 duration-500 ease-in-out
                                 hover:text-white active:text-white">Política
                             de Cookies</a>
                     </div>
                 </nav>
             </div>
             <!-- nav - end -->
         </div>

         <div class="border-t border-gray-800 py-8 text-center text-sm text-gray-400">
             © {{ date('Y') }} - Aios Real Estate . Todo los Derechos Reservados.</div>
     </footer>
 </div>

 <!-- JS -->
 <script src="https://unpkg.com/flowbite@1.4.4/dist/flowbite.js" defer></script>
 <!-- END JS -->

 <!-- GOOGLE MAP API KEY -->
 <script src="https://code.jquery.com/jquery-3.4.1.js"></script>
 <script type="text/javascript"
     src="https://maps.google.com/maps/api/js?key={{ env('GOOGLE_MAP_KEY') }}&libraries=places"></script>

 <script>
     $(document).ready(function() {
         $("#latitudeArea").addClass("d-none");
         $("#longitudeArea").addClass("d-none");
     });

     google.maps.event.addDomListener(window, 'load', initialize);

     function initialize() {
         var input = document.getElementById('autocomplete');
         var autocomplete = new google.maps.places.Autocomplete(input);

         autocomplete.addListener('place_changed', function() {
             var place = autocomplete.getPlace();
             if (!place.geometry) {
                 return; // No se encontraron detalles de la ubicación para el lugar ingresado
             }

             var latitude = place.geometry.location.lat();
             var longitude = place.geometry.location.lng();
             var city = '';

             for (var i = 0; i < place.address_components.length; i++) {
                 var types = place.address_components[i].types;

                 if (types.includes('locality') || types.includes('administrative_area_level_2')) {
                     city = place.address_components[i].long_name;
                     break;
                 }
             }

             $('#latitudeArea').val(latitude);
             $('#longitudeArea').val(longitude);
             $('#city').val(city);

             $("#latitudeArea").removeClass("d-none");
             $("#longitudeArea").removeClass("d-none");
         });
     }
 </script>
 <!-- END GOOGLE MAP API KEY -->

 <!-- OWL CAROUSEL -->

 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
 <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>


 <script>
     $(document).ready(function() {
         var $testimonialsDiv = $('.testimonials');
         if ($testimonialsDiv.length && $.fn.owlCarousel) {
             $testimonialsDiv.owlCarousel({
                 items: 1,
                 nav: true,
                 dots: false,
                 navText: ['<i class="fa-solid fa-chevron-left ml-4 text-green-700 text-3xl"></i>',
                     '<i class="fa-solid fa-chevron-right mr-4 text-green-700 text-3xl"></i>'
                 ],
                 responsive: {
                     0: {
                         items: 1
                     },
                     600: {
                         items: 3
                     },
                     1000: {
                         items: 4
                     },

                 }
             });
         }
     });
 </script>


 <script>
     // Burger menus
     document.addEventListener('DOMContentLoaded', function() {
         // open
         const burger = document.querySelectorAll('.navbar-burger');
         const menu = document.querySelectorAll('.navbar-menu');

         if (burger.length && menu.length) {
             for (var i = 0; i < burger.length; i++) {
                 burger[i].addEventListener('click', function() {
                     for (var j = 0; j < menu.length; j++) {
                         menu[j].classList.toggle('hidden');
                     }
                 });
             }
         }

         // close
         const close = document.querySelectorAll('.navbar-close');
         const backdrop = document.querySelectorAll('.navbar-backdrop');

         if (close.length) {
             for (var i = 0; i < close.length; i++) {
                 close[i].addEventListener('click', function() {
                     for (var j = 0; j < menu.length; j++) {
                         menu[j].classList.toggle('hidden');
                     }
                 });
             }
         }

         if (backdrop.length) {
             for (var i = 0; i < backdrop.length; i++) {
                 backdrop[i].addEventListener('click', function() {
                     for (var j = 0; j < menu.length; j++) {
                         menu[j].classList.toggle('hidden');
                     }
                 });
             }
         }
     });
 </script>


 <!-- PUSHERS NOTIFICATIONS -->

 <script src="https://js.pusher.com/7.0/pusher.min.js"></script>
 <script>
     // Inicializar Pusher con las credenciales de la aplicación
     const pusher = new Pusher('{{ env('PUSHER_APP_KEY') }}', {
         cluster: '{{ env('PUSHER_APP_CLUSTER') }}',
         encrypted: true,
     });

     // Suscribirse al canal de notificaciones
     const channel = pusher.subscribe('notifications-channel');

     channel.bind('App\\Events\\NotificationsEvent', function(data) {
         console.log('Evento recibido:', data);
         // Actualizar el recuento de notificaciones
         const count = data.countNotificationsEvent;
         // Actualizar los mensajes de notificación
         const messages = data.messageEvent;
         // Mostrar u ocultar el elemento de recuento de notificaciones según el valor de count
         const countNotifications = document.getElementById('count-notifications');
         if (count > 0) {
             countNotifications.style.display = 'block';
             countNotifications.innerText = count.toString();
         } else {
             countNotifications.style.display = 'none';
         }
         // Realizar las operaciones necesarias para actualizar el elemento user-dropdown2 con los nuevos datos

         // Ejemplo:
         const dropdownContainer = document.getElementById('user-dropdown2');
         dropdownContainer.innerHTML = ''; // Limpiar el contenido anterior

         messages.forEach((message) => {
             const dropdownItem = document.createElement('li');


             dropdownItem.innerHTML = `
                 <a href="#" data-from-id="${message.from_id}"
                    class="border-t border-gray-200 flex items-center space-x-2 
                    px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    <!-- Aquí agregas el contenido del mensaje -->
                    <!-- Ejemplo: -->
                    <div class="text-gray-600 text-sm">
                        <p class="font-bold"
                            style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width: 150px;">
                            ${message.name} ${message.lastname}
                        </p>
                        <p class="font-bold text-gray-500 text-xs">
                            
                           ${message.created_at} 
                        </p>
                    </div>
                </a>
            `;
             dropdownContainer.appendChild(dropdownItem);
             // Agregar el nuevo elemento al contenedor
             const chatboxItem = document.createElement('li');
             chatboxItem.innerHTML = `
    <a href="{{ route('chatify.index') }}"
        class="border-t border-gray-200 text-center bg-green-600 block px-4 py-2 text-sm text-white hover:bg-green-400">
        Chatbox
    </a>
`;
             dropdownContainer.appendChild(chatboxItem);
         });

         // Agregar el evento de clic al enlace
         const links = dropdownContainer.querySelectorAll('a[data-from-id]');
         links.forEach((link) => {
             link.addEventListener('click', function(event) {
                 event.preventDefault();

                 const fromId = this.getAttribute('data-from-id');
                 const url = `{{ route('chatify.name', ['id' => 'FROM_ID']) }}`.replace(
                     'FROM_ID', fromId);

                 // Redireccionar a la URL construida
                 window.location.href = url;
             });
         });
     });
 </script>

 <!-- END PUSHERS NOTIFICATIONS -->

 <!-- GOOGLE MAP API KEY -->

 <script type="text/javascript"
     src="https://maps.google.com/maps/api/js?key={{ env('GOOGLE_MAP_KEY') }}&libraries=places"></script>
 <script>
     $(document).ready(function() {
         $("#latitudeArea").addClass("d-none");
         $("#longtitudeArea").addClass("d-none");

         initializeCityAutocomplete();
     });

     function initializeCityAutocomplete() {
         var input = document.getElementById('city');
         var autocomplete = new google.maps.places.Autocomplete(input);

         autocomplete.addListener('place_changed', function() {
             var place = autocomplete.getPlace();
             var addressComponents = place.address_components;
             var city = '';

             for (var i = 0; i < addressComponents.length; i++) {
                 var types = addressComponents[i].types;

                 if (types.includes('locality') || types.includes('administrative_area_level_2')) {
                     city = addressComponents[i].long_name;
                     break;
                 }
             }

             $('#city').val(city);
         });
     }
 </script>
 <!-- END GOOGLE MAP API KEY -->

 <!-- SEARCH FILTERS -->
 <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

 <script>
     // Verifica si los campos de búsqueda tienen valores
     function checkSearchInputsFilled() {
         const form = document.getElementById('filters-form');
         const formData = new FormData(form);

         const searchInputsFilled =
             formData.get('garage') !== '' ||
             formData.get('bathrooms') !== '' ||
             formData.get('bedrooms') !== '' ||
             formData.get('minTotalArea') !== '' ||
             formData.get('maxTotalArea') !== '' ||
             formData.get('minPrice') !== '' ||
             formData.get('maxPrice') !== '';

         return searchInputsFilled;
     }

     // Actualiza las tarjetas y los resultados solo si los campos de búsqueda tienen valores
     function updateResultSection() {
         if (checkSearchInputsFilled()) {
             const form = document.getElementById('filters-form');
             const formData = new FormData(form);

             axios.post('{{ route('search.filters.update') }}', formData)
                 .then(function(response) {
                     // Obtén el contenido de las tarjetas de la respuesta JSON del servidor
                     const cardsContent = response.data.cards;

                     // Actualiza solo el contenido del contenedor de las tarjetas
                     document.getElementById('cards-container').innerHTML = cardsContent;
                     // Actualiza el contador de resultados y el término de búsqueda
                     const resultCount = response.data.resultCount;
                     const searchTerm = response.data.searchTerm;
                     document.getElementById('result-count').textContent = resultCount;
                     document.getElementById('search-term').textContent = searchTerm;
                 })
                 .catch(function(error) {
                     console.error(error);
                 });
         }
     }

     // Llama a la función de actualización al cargar la página si los campos de búsqueda tienen valores
     if (checkSearchInputsFilled()) {
         updateResultSection();
     }

     // Agrega el evento change a los elementos select e input para actualizar el resultado en tiempo real
     document.querySelectorAll('#filters-form select, #filters-form input').forEach(function(element) {
         element.addEventListener('change', updateResultSection);
     });
 </script>

 <!-- END SEARCH FILTERS -->


 <!-- END FOOTER -->
